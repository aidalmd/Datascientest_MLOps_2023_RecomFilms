FROM python:3.8

WORKDIR /app

# Update the .env information
ENV DATABASE_HOST=127.0.0.1
ENV DB_USER="admin"
ENV DB_PASSWORD="admin1234"
ENV API_KEY_NAME = "admin"
ENV API_KEY = "api1234"

RUN pip install --upgrade pip
COPY ./api.py /app/api.py
RUN pip install --no-cache-dir -r  requirements.txt

ENV PORT 8080
EXPOSE 8080

CMD ["uvicorn", "api:app", "--reload", "--host", "0.0.0.0", "--port", "8080"]
